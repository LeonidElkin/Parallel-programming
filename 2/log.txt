Reading 1: 708 ms
731
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7b8400000c60 by thread T1:
    #0 my_d_ary_heap<8>::empty() const /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:155 (mq+0x256f7)
    #1 my_d_ary_heap<8>::top() const /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:158 (mq+0x256f7)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:169 (mq+0x256f7)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x256f7)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7b8400000c60 by thread T2:
    #0 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:170 (mq+0x25d2c)
    #1 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25d2c)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25d2c)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 4224 at 0x7b8400000000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x29692)
    #2 std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::allocate(std::allocator<padded<my_d_ary_heap<8> > >&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x29692)
    #3 std::_Vector_base<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x29692)
    #4 std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:78 (mq+0x29692)
    #5 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:57 (mq+0x29692)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29692)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:155 in my_d_ary_heap<8>::empty() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7bb4000b4000 by thread T1:
    #0 my_d_ary_heap<8>::top() const /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:158 (mq+0x25726)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:169 (mq+0x25726)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25726)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bb4000b4000 by thread T2:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:126 (mq+0x25794)
    #1 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x25794)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25794)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25794)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 40000 at 0x7bb4000b4000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:158 in my_d_ary_heap<8>::top() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7bb400000000 by thread T1:
    #0 my_d_ary_heap<8>::top() const /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:158 (mq+0x25726)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:169 (mq+0x25726)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25726)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bb400000000 by thread T2:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x26166)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:94 (mq+0x26166)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:105 (mq+0x26166)
    #3 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x26166)
    #4 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:181 (mq+0x26166)
    #5 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x26166)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x26166)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 40000 at 0x7bb400000000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:158 in my_d_ary_heap<8>::top() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7b8400000bb0 by thread T1:
    #0 my_d_ary_heap<8>::empty() const /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:155 (mq+0x256f7)
    #1 my_d_ary_heap<8>::top() const /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:158 (mq+0x256f7)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:169 (mq+0x256f7)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x256f7)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7b8400000bb0 by thread T2:
    #0 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:164 (mq+0x25752)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25752)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25752)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 4224 at 0x7b8400000000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x29692)
    #2 std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::allocate(std::allocator<padded<my_d_ary_heap<8> > >&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x29692)
    #3 std::_Vector_base<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x29692)
    #4 std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:78 (mq+0x29692)
    #5 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:57 (mq+0x29692)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29692)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:155 in my_d_ary_heap<8>::empty() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac295ca1d0 by thread T1:
    #0 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:165 (mq+0x25762)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25762)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25762)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac295ca1d0 by thread T2:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x25991)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25991)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25991)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25991)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25991)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25991)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:165 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7bb4000780b8 by thread T1:
    #0 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x25789)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25789)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25789)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bb4000780b8 by thread T2:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x25972)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:94 (mq+0x25972)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25972)
    #3 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25972)
    #4 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25972)
    #5 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25972)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25972)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 40000 at 0x7bb400078000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac27b72b70 by thread T1:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 (mq+0x257a4)
    #1 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x257a4)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x257a4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x257a4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac27b72b70 by thread T2:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 (mq+0x25d8a)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:174 (mq+0x25d8a)
    #2 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25d8a)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25d8a)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7bb400078008 by thread T1:
    #0 my_d_ary_heap<8>::get_biggest_child(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:137 (mq+0x25840)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:118 (mq+0x25840)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25840)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25840)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25840)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25840)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bb400078008 by thread T2:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x25972)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:94 (mq+0x25972)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25972)
    #3 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25972)
    #4 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25972)
    #5 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25972)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25972)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 40000 at 0x7bb400078000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:137 in my_d_ary_heap<8>::get_biggest_child(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7bb400078010 by thread T1:
    #0 my_d_ary_heap<8>::get_biggest_child(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:137 (mq+0x2586e)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:118 (mq+0x2586e)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x2586e)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x2586e)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x2586e)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x2586e)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bb400078010 by thread T2:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x25972)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:94 (mq+0x25972)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25972)
    #3 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25972)
    #4 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25972)
    #5 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25972)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25972)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 40000 at 0x7bb400078000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:137 in my_d_ary_heap<8>::get_biggest_child(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7bb400078030 by thread T1:
    #0 my_d_ary_heap<8>::get_biggest_child(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:137 (mq+0x2586e)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:118 (mq+0x2586e)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x2586e)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x2586e)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x2586e)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x2586e)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bb400078030 by thread T2:
    [failed to restore the stack]

  Location is heap block of size 40000 at 0x7bb400078000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:137 in my_d_ary_heap<8>::get_biggest_child(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7bb400050128 by thread T1:
    #0 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x25789)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25789)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25789)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bb400050128 by thread T2:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:126 (mq+0x25d7b)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:174 (mq+0x25d7b)
    #2 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25d7b)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25d7b)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 40000 at 0x7bb400050000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac29643c10 by thread T1:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 (mq+0x257a4)
    #1 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x257a4)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x257a4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x257a4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac29643c10 by thread T2:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 (mq+0x257a4)
    #1 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x257a4)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x257a4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x257a4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac299bb410 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x25991)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25991)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25991)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25991)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25991)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25991)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac299bb410 by thread T2:
    [failed to restore the stack]

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac2930d2d0 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x25e55)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:105 (mq+0x25e55)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x25e55)
    #3 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:175 (mq+0x25e55)
    #4 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25e55)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25e55)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac2930d2d0 by thread T2:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 (mq+0x257a4)
    #1 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x257a4)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x257a4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x257a4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac2902cc50 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x25e55)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:105 (mq+0x25e55)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x25e55)
    #3 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:175 (mq+0x25e55)
    #4 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25e55)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25e55)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac2902cc50 by thread T2:
    [failed to restore the stack]

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7b8400000790 by thread T1:
    #0 my_d_ary_heap<8>::empty() const /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:155 (mq+0x256f7)
    #1 my_d_ary_heap<8>::top() const /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:158 (mq+0x256f7)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:169 (mq+0x256f7)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x256f7)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7b8400000790 by thread T2:
    [failed to restore the stack]

  Location is heap block of size 4224 at 0x7b8400000000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x29692)
    #2 std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::allocate(std::allocator<padded<my_d_ary_heap<8> > >&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x29692)
    #3 std::_Vector_base<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x29692)
    #4 std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:78 (mq+0x29692)
    #5 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:57 (mq+0x29692)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29692)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:155 in my_d_ary_heap<8>::empty() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac27d14d70 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x25991)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25991)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25991)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25991)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25991)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25991)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac27d14d70 by thread T2:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 (mq+0x257a4)
    #1 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x257a4)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x257a4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x257a4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7bb400050108 by thread T1:
    #0 my_d_ary_heap<8>::get_biggest_child(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:137 (mq+0x25840)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:118 (mq+0x25840)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25840)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25840)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25840)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25840)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bb400050108 by thread T2:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:126 (mq+0x25d7b)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:174 (mq+0x25d7b)
    #2 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25d7b)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25d7b)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 40000 at 0x7bb400050000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:137 in my_d_ary_heap<8>::get_biggest_child(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7bb400050110 by thread T1:
    #0 my_d_ary_heap<8>::get_biggest_child(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:137 (mq+0x2586e)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:118 (mq+0x2586e)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x2586e)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x2586e)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x2586e)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x2586e)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bb400050110 by thread T2:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:126 (mq+0x25d7b)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:174 (mq+0x25d7b)
    #2 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25d7b)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25d7b)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 40000 at 0x7bb400050000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:137 in my_d_ary_heap<8>::get_biggest_child(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac29337990 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:96 (mq+0x259ad)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x259ad)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x259ad)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x259ad)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x259ad)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x259ad)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac29337990 by thread T2:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 (mq+0x257a4)
    #1 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x257a4)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x257a4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x257a4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:96 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac27dfc2b0 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x25991)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25991)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25991)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25991)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25991)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25991)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac27dfc2b0 by thread T2:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x25991)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25991)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25991)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25991)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25991)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25991)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7bb4000dc048 by thread T1:
    #0 my_d_ary_heap<8>::get_biggest_child(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:137 (mq+0x25840)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:118 (mq+0x25840)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25840)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25840)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25840)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25840)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bb4000dc048 by thread T2:
    [failed to restore the stack]

  Location is heap block of size 40000 at 0x7bb4000dc000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:137 in my_d_ary_heap<8>::get_biggest_child(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7bb4000c8000 by thread T2:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:126 (mq+0x25794)
    #1 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x25794)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25794)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25794)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7bb4000c8000 by thread T1:
    #0 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:110 (mq+0x25ef9)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x25ef9)
    #2 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:175 (mq+0x25ef9)
    #3 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25ef9)
    #4 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25ef9)
    #5 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #6 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #7 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #8 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #10 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 40000 at 0x7bb4000c8000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:126 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac2827b930 by thread T1:
    #0 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:165 (mq+0x25762)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25762)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25762)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac2827b930 by thread T2:
    #0 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:165 (mq+0x25762)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25762)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25762)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:165 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7bb400096008 by thread T1:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x25972)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:94 (mq+0x25972)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25972)
    #3 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25972)
    #4 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25972)
    #5 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25972)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25972)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7bb400096008 by thread T2:
    #0 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:104 (mq+0x25ea1)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x25ea1)
    #2 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:175 (mq+0x25ea1)
    #3 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25ea1)
    #4 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25ea1)
    #5 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #6 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #7 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #8 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #10 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 40000 at 0x7bb400096000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/11/bits/move.h:206 in std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7bb400096010 by thread T2:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x25e3a)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:94 (mq+0x25e3a)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:105 (mq+0x25e3a)
    #3 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x25e3a)
    #4 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:175 (mq+0x25e3a)
    #5 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25e3a)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25e3a)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7bb400096010 by thread T1:
    #0 my_d_ary_heap<8>::get_biggest_child(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:137 (mq+0x2586e)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:118 (mq+0x2586e)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x2586e)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x2586e)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x2586e)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x2586e)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 40000 at 0x7bb400096000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/11/bits/move.h:206 in std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac29371050 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x25991)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25991)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25991)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25991)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25991)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25991)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac29371050 by thread T2:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 (mq+0x25d8a)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:174 (mq+0x25d8a)
    #2 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25d8a)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25d8a)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7b8400000e70 by thread T1:
    #0 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:170 (mq+0x25d21)
    #1 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25d21)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25d21)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7b8400000e70 by thread T2:
    #0 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:164 (mq+0x25752)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25752)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25752)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 4224 at 0x7b8400000000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x29692)
    #2 std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::allocate(std::allocator<padded<my_d_ary_heap<8> > >&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x29692)
    #3 std::_Vector_base<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x29692)
    #4 std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:78 (mq+0x29692)
    #5 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:57 (mq+0x29692)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29692)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:170 in my_d_ary_heap<8>::push(QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac27cc1670 by thread T2:
    #0 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:165 (mq+0x25762)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25762)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25762)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac27cc1670 by thread T1:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 (mq+0x25d8a)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:174 (mq+0x25d8a)
    #2 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25d8a)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25d8a)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:165 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7bb400064008 by thread T1:
    #0 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:104 (mq+0x261cd)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x261cd)
    #2 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:181 (mq+0x261cd)
    #3 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x261cd)
    #4 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x261cd)
    #5 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #6 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #7 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #8 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #10 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bb400064008 by thread T2:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x25972)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:94 (mq+0x25972)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25972)
    #3 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25972)
    #4 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25972)
    #5 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25972)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25972)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 40000 at 0x7bb400064000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:104 in my_d_ary_heap<8>::sift_up(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac27cc1350 by thread T1:
    #0 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:165 (mq+0x25762)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25762)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25762)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac27cc1350 by thread T2:
    [failed to restore the stack]

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:165 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7b8400000d10 by thread T1:
    #0 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:99 (mq+0x260bb)
    #1 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:181 (mq+0x260bb)
    #2 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x260bb)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x260bb)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7b8400000d10 by thread T2:
    #0 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:164 (mq+0x25752)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25752)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25752)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 4224 at 0x7b8400000000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x29692)
    #2 std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::allocate(std::allocator<padded<my_d_ary_heap<8> > >&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x29692)
    #3 std::_Vector_base<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x29692)
    #4 std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:78 (mq+0x29692)
    #5 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:57 (mq+0x29692)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29692)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:99 in my_d_ary_heap<8>::sift_up(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7bb4000be000 by thread T1:
    #0 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:110 (mq+0x2621e)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x2621e)
    #2 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:181 (mq+0x2621e)
    #3 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x2621e)
    #4 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x2621e)
    #5 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #6 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #7 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #8 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #10 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bb4000be000 by thread T2:
    [failed to restore the stack]

  Location is heap block of size 40000 at 0x7bb4000be000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:110 in my_d_ary_heap<8>::sift_up(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7bb4000dc110 by thread T1:
    #0 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x25789)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25789)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25789)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bb4000dc110 by thread T2:
    [failed to restore the stack]

  Location is heap block of size 40000 at 0x7bb4000dc000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac293f3190 by thread T1:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 (mq+0x257a4)
    #1 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x257a4)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x257a4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x257a4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac293f3190 by thread T2:
    [failed to restore the stack]

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac2828b3d0 by thread T1:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 (mq+0x257a4)
    #1 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x257a4)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x257a4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x257a4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac2828b3d0 by thread T2:
    #0 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:165 (mq+0x25762)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25762)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25762)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7bb40000a000 by thread T1:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:126 (mq+0x25794)
    #1 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x25794)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25794)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25794)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7bb40000a000 by thread T2:
    #0 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:104 (mq+0x261cd)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x261cd)
    #2 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:181 (mq+0x261cd)
    #3 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x261cd)
    #4 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x261cd)
    #5 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #6 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #7 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #8 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #10 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 40000 at 0x7bb40000a000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:126 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac28feef90 by thread T2:
    #0 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:165 (mq+0x25762)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25762)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25762)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac28feef90 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:96 (mq+0x26194)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:105 (mq+0x26194)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x26194)
    #3 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:181 (mq+0x26194)
    #4 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x26194)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x26194)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:165 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7bb4000a00a0 by thread T2:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:126 (mq+0x25d7b)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:174 (mq+0x25d7b)
    #2 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25d7b)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25d7b)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bb4000a00a0 by thread T1:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x25972)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:94 (mq+0x25972)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25972)
    #3 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25972)
    #4 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25972)
    #5 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25972)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25972)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 40000 at 0x7bb4000a0000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:126 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7bb400028030 by thread T2:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x25972)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:94 (mq+0x25972)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25972)
    #3 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25972)
    #4 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25972)
    #5 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25972)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25972)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7bb400028030 by thread T1:
    [failed to restore the stack]

  Location is heap block of size 40000 at 0x7bb400028000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/11/bits/move.h:206 in std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7fac28b32ab0 by thread T1:
    #0 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:180 (mq+0x260a7)
    #1 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x260a7)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x260a7)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac28b32ab0 by thread T2:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 (mq+0x257a4)
    #1 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x257a4)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x257a4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x257a4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:180 in my_d_ary_heap<8>::decrease_key(QueueElement*, int)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac29285bf0 by thread T2:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x25e55)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:105 (mq+0x25e55)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x25e55)
    #3 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:175 (mq+0x25e55)
    #4 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25e55)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25e55)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac29285bf0 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x25991)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25991)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25991)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25991)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25991)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25991)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac292d9390 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x26181)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:105 (mq+0x26181)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x26181)
    #3 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:181 (mq+0x26181)
    #4 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x26181)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x26181)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac292d9390 by thread T2:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x25991)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25991)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25991)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25991)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25991)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25991)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7bb40005a0e8 by thread T1:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:126 (mq+0x25d7b)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:174 (mq+0x25d7b)
    #2 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25d7b)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25d7b)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7bb40005a0e8 by thread T2:
    [failed to restore the stack]

  Location is heap block of size 40000 at 0x7bb40005a000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x28a80)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x28a80)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x28a80)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x28a80)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x29a8a)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:145 (mq+0x29a8a)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:26 (mq+0x29a8a)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x29a8a)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x29a8a)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x29a8a)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:59 (mq+0x29a8a)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:158 (mq+0x29a8a)
    #13 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #18 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #23 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #30 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:126 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Read of size 8 at 0x7fac28b33eb0 by thread T1:
    #0 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:180 (mq+0x260a7)
    #1 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x260a7)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x260a7)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac28b33eb0 by thread T2:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x25991)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25991)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25991)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25991)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25991)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25991)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:180 in my_d_ary_heap<8>::decrease_key(QueueElement*, int)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac2824e430 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:96 (mq+0x259ad)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x259ad)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x259ad)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x259ad)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x259ad)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x259ad)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac2824e430 by thread T2:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 (mq+0x25d8a)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:174 (mq+0x25d8a)
    #2 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:113 (mq+0x25d8a)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x25d8a)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:96 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac290ccf70 by thread T2:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x26181)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:105 (mq+0x26181)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x26181)
    #3 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:181 (mq+0x26181)
    #4 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x26181)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x26181)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac290ccf70 by thread T1:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:127 (mq+0x257a4)
    #1 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:166 (mq+0x257a4)
    #2 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x257a4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x257a4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac28022d50 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:96 (mq+0x259ad)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x259ad)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x259ad)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x259ad)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x259ad)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x259ad)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7fac28022d50 by thread T2:
    #0 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:180 (mq+0x260a7)
    #1 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x260a7)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x260a7)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:96 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac28234fd0 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:96 (mq+0x259ad)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x259ad)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x259ad)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x259ad)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x259ad)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x259ad)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac28234fd0 by thread T2:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:96 (mq+0x26194)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:105 (mq+0x26194)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x26194)
    #3 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:181 (mq+0x26194)
    #4 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x26194)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x26194)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:96 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac29218370 by thread T2:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:96 (mq+0x259ad)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x259ad)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x259ad)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x259ad)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x259ad)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x259ad)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac29218370 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x25991)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25991)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25991)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25991)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25991)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25991)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:96 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac2813eb30 by thread T1:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 (mq+0x25991)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:120 (mq+0x25991)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:112 (mq+0x25991)
    #3 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:167 (mq+0x25991)
    #4 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25991)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25991)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7fac2813eb30 by thread T2:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:96 (mq+0x26194)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:105 (mq+0x26194)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x26194)
    #3 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:181 (mq+0x26194)
    #4 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x26194)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x26194)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=247449)
  Write of size 8 at 0x7fac288743f0 by thread T1:
    #0 my_d_ary_heap<8>::pop() /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:165 (mq+0x25762)
    #1 Multiqueue::pop() /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:174 (mq+0x25762)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:125 (mq+0x25762)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7fac288743f0 by thread T2:
    #0 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:180 (mq+0x260a7)
    #1 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x260a7)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x260a7)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7fac27a1d000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x2a5a6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x2a5a6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x2a5a6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x2a5a6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x2a5a6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:160 (mq+0x2a5a6)
    #7 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #12 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #17 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #24 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T1 (tid=247460, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

  Thread T2 (tid=247461, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x2a570)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:168 (mq+0x2a570)
    #4 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:141 (mq+0x1d130)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1d130)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1d130)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1d130)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x123a2)
    #9 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:152 (mq+0x123a2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x123a2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x123a2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x123a2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x122ea)
    #14 operator() /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x122ea)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x122ea)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x122ea)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x122ea)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x141a7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:52 (mq+0x141a7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:179 (mq+0x141a7)
    #21 main /mnt/d/projects/parallel-programming-2-task/src/benchmark.cpp:302 (mq+0x11330)

SUMMARY: ThreadSanitizer: data race /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:165 in my_d_ary_heap<8>::pop()
==================
ThreadSanitizer:DEADLYSIGNAL
==247449==ERROR: ThreadSanitizer: SEGV on unknown address 0x000000000080 (pc 0x7fac2d65fb46 bp 0x000000000005 sp 0x7fac271da018 T247460)
==247449==The signal is caused by a READ memory access.
==247449==Hint: address points to the zero page.
    #0 __sanitizer::atomic_uint32_t::Type __sanitizer::atomic_load<__sanitizer::atomic_uint32_t>(__sanitizer::atomic_uint32_t const volatile*, __sanitizer::memory_order) ../../../../src/libsanitizer/sanitizer_common/sanitizer_atomic_clang_x86.h:52 (libtsan.so.0+0x7eb46)
    #1 __sanitizer::atomic_uint32_t::Type __sanitizer::atomic_load<__sanitizer::atomic_uint32_t>(__sanitizer::atomic_uint32_t const volatile*, __sanitizer::memory_order) ../../../../src/libsanitizer/sanitizer_common/sanitizer_atomic_clang_x86.h:27 (libtsan.so.0+0x7eb46)
    #2 NoTsanAtomicLoad<unsigned int> ../../../../src/libsanitizer/tsan/tsan_interface_atomic.cpp:211 (libtsan.so.0+0x7eb46)
    #3 AtomicLoad<unsigned int> ../../../../src/libsanitizer/tsan/tsan_interface_atomic.cpp:232 (libtsan.so.0+0x7fca4)
    #4 __tsan_atomic32_load ../../../../src/libsanitizer/tsan/tsan_interface_atomic.cpp:534 (libtsan.so.0+0x7fca4)
    #5 std::__atomic_base<int>::load(std::memory_order) const /usr/include/c++/11/bits/atomic_base.h:488 (mq+0x261e1)
    #6 QueueElement::get_dist() const /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:48 (mq+0x261e1)
    #7 QueueElement::operator>(QueueElement const&) const /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:72 (mq+0x261e1)
    #8 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:104 (mq+0x261e1)
    #9 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:98 (mq+0x261e1)
    #10 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/binary_heap.h:181 (mq+0x261e1)
    #11 Multiqueue::push(QueueElement*, int) /mnt/d/projects/parallel-programming-2-task/src/multiqueue.h:94 (mq+0x261e1)
    #12 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/d/projects/parallel-programming-2-task/src/dijkstra.h:141 (mq+0x261e1)
    #13 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1e9a1)
    #14 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1e9a1)
    #15 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1e9a1)
    #16 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1e9a1)
    #17 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1e9a1)
    #18 <null> <null> (libstdc++.so.6+0xdc252)
    #19 __tsan_thread_start_func ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:959 (libtsan.so.0+0x2e5ff)
    #20 start_thread nptl/pthread_create.c:442 (libc.so.6+0x94ac2)
    #21 <null> <null> (libc.so.6+0x12684f)

ThreadSanitizer can not provide additional info.
SUMMARY: ThreadSanitizer: SEGV ../../../../src/libsanitizer/sanitizer_common/sanitizer_atomic_clang_x86.h:52 in __sanitizer::atomic_uint32_t::Type __sanitizer::atomic_load<__sanitizer::atomic_uint32_t>(__sanitizer::atomic_uint32_t const volatile*, __sanitizer::memory_order)
==247449==ABORTING
